---
title: "[Database]데이터 정규화(Normalization)"
categories: [Study, Database]
tags: [Database, 데이터베이스, DB, normalization, 데이터 정규화]
---

# 데이터 정규화(Normalization)

## 데이터 정규화란?

- DB 설계에서 사용되는 중요한 개념 중 하나
- 데이터를 구조화하고 중복을 최소화하여 데이터의 일관성과 효율성을 유지하는 프로세스
- 주로 관계형 DB에서 사용되며, 정규화는 데이터를 여러 테이블로 분할하여 각 테이블이 하나의 주제에 대해 집중하도록 함

## 데이터 정규화의 목표

- **중복 최소화**: DB 내에서 중복된 정보를 최소화하여 저장 공간을 절약하고 데이터 일관성을 유지
- **갱신 이상 방지**: 데이터를 갱신할 때 발생할 수 있는 이상 현상(삽입 이상, 갱신 이상, 삭제 이상)을 방지
- **데이터 일관성 유지**: 데이터의 중복을 줄이고 관계를 명확히 정의함으로써 데이터의 일관성을 유지

## 데이터 정규화 단계

### 제1 정규형(1NF)

- 각 속성의 값은 원자적이어야 함
	+ 각 속성의 값은 더 이상 분해할 수 없는 단위
- 모든 행은 식별자로 완전하게 구분되어야 함
- **테이블의 각 열은 하나의 값만을 가져야 함**

### 제2 정규형(2NF)

- 제1 정규형을 만족하면서, 모든 **비주요 속성이 주요 키에 완전히 종속**되어야 함
- 비주요 속성이 여러 개의 복합 키(또는 후보 키)에 종속되는 경우, 테이블을 분리하여 각 복합 키(또는 후보 키)에 맞춰서 데이터를 정규화

> 복합 키(또는 후보 키)가 아니라면 제2 정규형 단계를 건너 뛰고 제3 정규형을 진행한다.
{: .prompt-tip }

### 제3 정규형(3NF)

- 제2 정규형을 만족하면서, 모든 비주요 속성이 다른 비주요 속성에 의해 이행적으로 종속되지 않아야 함
	+ 비주요 속성 간에 함수적 종속성이 없어야 함
- 이행적 종속성을 제거하기 위해 비주요 속성을 별도의 테이블로 분리

### BCNF(Boyce-Codd 정규형)

- 모든 결정자가 후보 키여야 함
- 제3 정규형을 만족하지만, 후보 키가 아닌 결정자가 존재하는 경우 이를 분리하여 테이블을 정규화

### 제4 정규형(4NF)

- 다치 종속을 없애기 위한 정규형으로, 다치 종속이 존재할 경우 테이블을 분리하여 정규화함
- 드물게 사용됨

### 제5 정규형 (5NF)

- 제4 정규형을 만족하면서 조인 종속성을 최대한 제거

> 일반적으로 많은 경우에서 제3 정규형을 만족한다면, 나머지 정규형(BCNF, 제4 정규형, 제5 정규형)도 만족하는 경우가 많다.
{: .prompt-info }

## 예시

##### 수강 내역 테이블

|    학번    |  이름   |             메일           |      대학     |     전공     | 수강 학기 |   과목명   | 성적 | 제한 인원 |
|:-----------:|:--------:|:-------------------------:|:-------------:|:-------------:|:------------:|:-----------:|:------:|:-----------:|
|  **101**  | 윤석열 |  yoon@google.com  |  이과 대학 |  생물학과  |  2024-01  |     생물1   |   A   |      20     |
|  **101**  | 윤석열 |  yoon@google.com  |  이과 대학 |  생물학과  |  2024-01  |     생물2   |   B   |     10      |
|  **102**  | 문재인 |  moon@naver.com   |    IT 대학   |  컴퓨터과  |  2023-01  |   컴퓨터1  |   A   |     40      |
|  **102**  | 문재인 |  moon@naver.com   |    IT 대학   |  컴퓨터과  |  2023-01  |   컴퓨터2  |   C   |     40      |
|  **103**  | 박근혜 |  park@google.com   |  문과 대학 |  경제학과  |  2022-01  |     경제1   |   A   |     30      |

### 제1 정규형(1NF)

##### 학생 테이블

|    학번    |  이름   |             메일           |      대학     |     전공     |
|:-----------:|:--------:|:-------------------------:|:-------------:|:-------------:|
|  **101**  | 윤석열 |  yoon@google.com  |  이과 대학 |  생물학과  |
|  **102**  | 문재인 |  moon@naver.com   |    IT 대학   |  컴퓨터과  |
|  **103**  | 박근혜 |  park@google.com   |  문과 대학 |  경제학과  |

- 각 열은 하나의 값을 갖도록 설계

##### 수강 내역 테이블

|    학번    |   수강 학기    |       과목명     | 성적 | 제한 인원 |
|:-----------:|:----------------:|:-----------------:|:------:|:-----------:|
|  **101**  |  **2024-01**  |     **생물1**   |   A   |      20     |
|  **101**  |  **2024-01**  |     **생물2**   |   B   |      10     |
|  **102**  |  **2023-01**  |   **컴퓨터1**  |   A   |     40      |
|  **102**  |  **2023-01**  |   **컴퓨터2**  |   C   |     40      |
|  **103**  |  **2022-01**  |     **경제1**   |   A   |     30      |

- 식별자인 `학번` 열만으로는 모든 행이 구분되지 않기 때문에, `학번` + `수강학기` + `과목명` 열의 복합 키를 갖는 테이블 생성

### 제2 정규형(2NF)

- 부분 종속을 제거하여 모든 열이 후보 키에 완전히 종속되도록 함
	+ 완전 종속 함수를 만족하도록 테이블을 분해

##### 수강 내역 테이블

|    학번    |   수강 학기    |       과목명     | 성적 |
|:-----------:|:----------------:|:-----------------:|:------:|
|  **101**  |  **2024-01**  |     **생물1**   |   A   |
|  **101**  |  **2024-01**  |     **생물2**   |   B   |
|  **102**  |  **2023-01**  |   **컴퓨터1**  |   A   |
|  **102**  |  **2023-01**  |   **컴퓨터2**  |   C   |
|  **103**  |  **2022-01**  |     **경제1**   |   A   |

- `성적` 열은 기존의 복합 키(`학번` + `수강학기` + `과목명`)에 완전 종속됨

##### 개설 과목 테이블

|   수강 학기    |       과목명     | 제한 인원 |
|:----------------:|:-----------------:|:-----------:|
|  **2024-01**  |     **생물1**   |      20     |
|  **2024-01**  |     **생물2**   |      10     |
|  **2023-01**  |   **컴퓨터1**  |      40     |
|  **2023-01**  |   **컴퓨터2**  |      40     |
|  **2022-01**  |     **경제1**   |      30     |

- `제한 인원` 열의 경우, 기존의 복합 키(`학번` + `수강학기` + `과목명`)에 완전 종속되지 않기 때문에 `수강 학기` + `과목명` 열의 복합 키를 갖는 테이블 생성

### 제3 정규형(3NF)

##### 대학 정보 테이블

|       전공        |      대학     |
|:-----------------:|:--------------:|
|  **생물학과**  |  이과 대학  |
|  **컴퓨터과**  |     IT 대학   |
|  **경제학과**  |  문과 대학  |
|  **정치학과**  |  문과 대학  |

- 기존의 학생 테이블에서 `대학`과 `전공` 열이 주요 속성이 아님에도 불구하고 종속 관계에 있기 때문에 분리
- 모든 행은 식별자로 구분될 수 있어야 하므로, `대학`이 아닌 `전공`을 기본 키로 설정

##### 학생 테이블

|    학번    |  이름   |             메일           |   전공(FK)    |
|:-----------:|:--------:|:-------------------------:|:--------------:|
|  **101**  | 윤석열 |  yoon@google.com  |   생물학과   |
|  **102**  | 문재인 |  moon@naver.com   |   컴퓨터과   |
|  **103**  | 박근혜 |  park@google.com   |   경제학과   |

- `대학` 정보를 참조하기 위해서 학생 테이블의 `전공`을 외래 키로 설정하여 `대학 정보` 테이블을 참조 할 수 있게 설정

### 결과

##### 학생 테이블

|    학번    |  이름   |             메일           |   전공(FK)    |
|:-----------:|:--------:|:-------------------------:|:--------------:|
|  **101**  | 윤석열 |  yoon@google.com  |   생물학과   |
|  **102**  | 문재인 |  moon@naver.com   |   컴퓨터과   |
|  **103**  | 박근혜 |  park@google.com   |   경제학과   |

##### 대학 정보 테이블

|       전공        |      대학     |
|:-----------------:|:--------------:|
|  **생물학과**  |  이과 대학  |
|  **컴퓨터과**  |     IT 대학   |
|  **경제학과**  |  문과 대학  |
|  **정치학과**  |  문과 대학  |

##### 수강 내역 테이블

|    학번    |   수강 학기    |       과목명     | 성적 |
|:-----------:|:----------------:|:-----------------:|:------:|
|  **101**  |  **2024-01**  |     **생물1**   |   A   |
|  **101**  |  **2024-01**  |     **생물2**   |   B   |
|  **102**  |  **2023-01**  |   **컴퓨터1**  |   A   |
|  **102**  |  **2023-01**  |   **컴퓨터2**  |   C   |
|  **103**  |  **2022-01**  |     **경제1**   |   A   |

##### 개설 과목 테이블

|   수강 학기    |       과목명     | 제한 인원 |
|:----------------:|:-----------------:|:-----------:|
|  **2024-01**  |     **생물1**   |      20     |
|  **2024-01**  |     **생물2**   |      10     |
|  **2023-01**  |   **컴퓨터1**  |      40     |
|  **2023-01**  |   **컴퓨터2**  |      40     |
|  **2022-01**  |     **경제1**   |      30     |

## 참고 자료

- [망나니개발자, "[Database] 정규화(Normalization) 쉽게 이해하기", MangKyu's Diary, 2021-01-20](https://mangkyu.tistory.com/110){: target="_blank" }
- [mr.dan, "정규화 (제1 정규화 ~ 제3 정규화)", DanStroy, 2019-01-15](https://mr-dan.tistory.com/10){: target="_blank" }