---
title: "[SQLD | 1과목]데이터 모델링의 이해 - 데이터 모델링의 이해(2024)"
categories: [Study, Certification]
tags: [certification, 자격증, SQLD]
image:
  path: /assets/img/posts/study/certification/sqld/01-sqld-logo.jpg
  lqip: data:image/webp;base64,UklGRpoAAABXRUJQVlA4WAoAAAAQAAAADwAABwAAQUxQSDIAAAARL0AmbZurmr57yyIiqE8oiG0bejIYEQTgqiDA9vqnsUSI6H+oAERp2HZ65qP/VIAWAFZQOCBCAAAA8AEAnQEqEAAIAAVAfCWkAALp8sF8rgRgAP7o9FDvMCkMde9PK7euH5M1m6VWoDXf2FkP3BqV0ZYbO6NA/VFIAAAA
---

|     구분     |               시험과목            |                        과목별 세부 내용                  |  문항수  |           배점          |   과락 기준  |        검정시간       |
|:-------------:|:--------------------------------:|:-------------------------------------------------------:|:----------:|:----------------------:|:--------------:|:----------------------:|
|  **1과목**  |  **데이터 모델링의 이해**  |  **데이터 모델링의 이해**, 데이터 모델과 SQL  |     10     |  20점(문항별 2점)  |   8점 미만   |                           |
|     2과목    |       SQL 기본 및 활용        |              SQL 기본, SQL 활용, 관리 구문           |     40     |  80점(문항별 2점)  |  32점 미만  |                           |
|      계        |                                      |                                                                  |     50     |         100점          |                 |  90분(1시간 30분)  |

# 데이터 모델링의 이해 - 데이터 모델링의 이해(2024)

|               주요 항목           |              세부 항목              |
|:--------------------------------:|:----------------------------------:|
|   **데이터 모델링의 이해**  |       데이터 모델의 이해       |
|                                       |               Entity                  |
|                                       |                속성                   |
|                                       |                관계                   |
|                                       |               식별자                 |
|       데이터 모델과 SQL       |               정규화                 |
|                                        |       관계와 `JOIN`의 이해      |
|                                        |   모델이 표현하는 트랜젝션   |
|                                        |       `NULL` 속성의 이해        |
|                                        |  본질 식별자 vs 인조 식별자  |

## 데이터 모델의 이해

### 모델링의 개념

- **정보 시스템을 구축하기 위한 데이터 관점의 업무 분석 기법**
- **현실 세계의 비즈니스 프로세스와 데이터 요구 사항을 추상적이고 구조화된 형태로 약속된 표기법에 의해 표현하는 과정**
- DB를 구축하기 위한 분석/설계의 과정
- DB의 구조와 관계를 정의하며, 이를 통해 데이터의 저장, 조작, 관리 방법을 명확하게 정의

### 모델링의 특징

#### 단순화(Simplification)

- 복잡한 현실을 제한된 언어나 표기법을 통해 단순화하여 핵심 요소에 집중하고 **불필요한 세부 사항을 제거**
- 단순화를 통해 복잡한 현실 세계를 이해하고 표현하기 쉬워짐

#### 추상화(Abstraction)

- 현실세계를 일정한 형식에 맞추어 **간략하게** 대략적으로 표현하는 과정
- 다양한 현상을 일정한 양식인 표기법에 따라 표현

#### 명확화(Clarity)

- 대상에 대한 애매모호함을 최대한 제거하고 **정확하게 현상을 기술**하는 과정
- 명확화를 통해 모델을 이해하는 이들의 의사소통을 원활히 함

### 데이터 모델링의 필요성

- 업무정보를 구성하는 기초가 되는 정보들에 대해 일정한 표기법에 의해 표현함으로써 정보 시스템 구축의 대상이 되는 업무 내용을 **정확하게 분석**하기 위함
- **분석된 모델**을 가지고 실제 DB를 생성하여 개발 및 데이터 관리에 **사용**하기 위함

### 데이터 모델링의 유의점

#### 중복(Duplication)

- 한 테이블 또는 여러 테이블에 같은 정보를 저장하지 않도록 설계

#### 비유연성(Inflexibility)

- 사소한 업무 변화에 대해서도 잦은 모델 변경이 되지 않도록 주의
	+ 잦은 변경이 예측되는 데이터에 대해서는 속성(컬럼)이 아닌 인스턴스(행)로 설계
- **데이터 정의를 프로세스와 분리하여 해결**
	+ 데이터 혹은 프로세스의 작은 변화가 애플리케이션과 DB의에 중대한 변화를 일으킬 수 있는 가능성을 줄임

#### 비일관성(Inconsistency)

- DB 내의 정보가 모순되거나 상반된 내용을 갖는 상태를 의미
- 데이터간 상호연관 관계를 명확히 정의
- 데이터 품질 관리 필요
- **데이터의 중복이 없더라도 비일관성은 발생할 수 있음**

### 데이터 모델링의 3가지 요소

- 대상(Entity): 업무가 관리하고자 하는 대상(객체)
- 속성(Attribute): 대상들이 갖는 속성(하나의 특징으로 정의될 수 있는 것)
- 관계(Relationship): 대상들 간의 관계

### 데이터 모델링의 3단계

#### 1. 개념적 모델링

- 업무 중심적이고 포괄적(전사적)인 수준의 모델링
- **추상화 수준이 가장 높음**
- **업무를 분석 뒤 업무의 핵심 Entity를 추출하는 단계**
- 도출된 핵심 Entity들과의 관계들을 표현하기 위해 ERD 작성

#### 2. 논리적 모델링

- **개념적 모델링의 결과를 토대로 세부속성, 식별자, 관계 등을 표현하는 단계**
- 데이터 구조를 정의하기 때문에 비슷한 업무나 프로젝트에서 동일한 형테의 데이터 사용
- 동일한 논리적 모델을 사용하는 경우 쿼리도 재사용 가능
- **데이터 정규화 수행**
- 재사용성이 높은 논리적 모델은 유지보수가 용이해짐

#### 3. 물리적 모델링

- **논리적 모델링이 끝나면 이를 직접 물리적으로 생성하는 과정**
- DB의 성능, 디스크 저장 구조, 하드웨어의 보안성, 가용성 등을 고려
- 가장 구체적인 데이터 모델링
	+ 추상화 수준이 가장 낮음

### ERD(Entity Relationship Diagram)

- 데이터 모델의 표기법
- Entity와 Entity 간의 관계를 시각적으로 표현한 다이어그램
- 1976년 피터 첸(Peter Chen)이 만든 표기법으로 데이터 모델링의 표준으로 사용됨

#### ERD 작성 절차

1. Entity를 도출한 후 그린다.
2. Entity 배치
3. Entity 간의 관계를 설정
4. 관계명을 서술
5. 관계의 참여도 기술
6. 관계의 필수 여부를 확인

> 사람의 눈은 왼쪽에서 오른쪽, 위쪽에서 아래쪽으로 이동하는 경향이 있기 때문에, 데이터 모델링에서도 가장 중요한 Entity를 왼쪽 상단에 배치하고, 이것을 중심으로 다른 Entity를 나열하면서 전개하면 사람의 눈이 따라가기에 편리한 데이터 모델을 작성할 수 있다.
{: .prompt-info }

## Entity

### Entity의 개념

- **현실 세계에서 독립적으로 식별 가능한 객체나 사물**
- Entity는 업무상 분석해야 하는 **대상(Instance)들로 이루어진 집합**
- 인스턴스는 Entity의 특정한 속성 값드로 구성되며, Entity의 개념을 현실에서 구체적으로 나타낸 것

#### 예시

- Entity: 학생
- 속성(Attribute): 학번, 이름, 학과 등
- 식별자(Identifier): 학번
- 인스턴스(Instance): 특정 학생의 데이터
	+ 학번: 2021001
	+ 이름: 홍길동
	+ 학과: 컴퓨터 공학

### Entity의 특징

- **유일한 식별자에 의해 식별 가능**
	+ 인스턴스가 식별자에 의해 한 개씩만 존재하는 지 검증 필요
	+ 유일한 식별자는 그 Entity의 인스턴스만의 고유 이름
		* 이름은 동명이인이 있을 수 있으므로 사번, 학번 등이 고유한 식별자가됨
- **해당 업무에 필요하고 관리하고자 하는 정보**
	+ 설계하는 업무의 시스템 구축에 필요한 정보여야 함
		* 학교 시스템 구축 시 학생 정보가 필요하지만 다른 업무에선 불필요함
- **인스턴스들의 집합**
	+ 영속적으로 존재하는 2개 이상의 인스턴스의 집합
	+ 인스턴스가 한 개밖에 없는 Entity는 집합이 아니므로 성립이 안됨
- **Entity는 반드시 속성을 가짐**
	+ 각 Entity는 2개 이상의 속성을 가짐
	+ 하나의 인스턴스는 각각의 속성들에 대한 1개의 속성 값만을 가짐
		* 학생 Entity에서 한 학생의 데이터(인스턴스)의 이름(속성) 정보에 반드시 한 값만 저장됨
- **Entity는 업무 프로세스에 의해 이용**
	+ 업무적으로 필요해 선정했지만 실제 사용되지 않으면 잘못 설계된 것
	+ 모델링 시 발견하기 어려운 경우 데이터 모델 검증이나 상관 모델링 시 단위 프로세스 교차 점검으로 문제 도출
	+ 누락된 프로세스의 경우 추후 해당 프로세스 추가
	+ 반대로 사용되지 않는 고립 Entity는 제거
- **다른 Entity와 최소 1개 이상의 관계 성립**
	+ Entity는 업무적 연관성을 갖고 다른 Entity와 연관의 의미를 가짐
	+ 관계가 없는 Entity 도출은 부적절한 Entity이거나 적절한 관계를 찾지 못한 것
		* 공통코드, 통계성 Entity의 경우 관계를 생략할 수 있음

### Entity의 분류

#### 유형과 무형에 따른 분류

##### 유형 Entity

- **물리적 형태가 있음(실체가 있는 대상)**
- 안정적이며 지속적으로 활용되는 Entity
- 업무로부터 구분하기가 가장 용이한 Entity
- 사원, 물품, 감사 등

##### 개념 Entity

- **물리적인 형태가 없음**
- 관리해야 할 개념적 정보로부터 구분되는 Entity
- 조직, 보험 상품 등

##### 사건 Entity

- **업무의 수행에 따라 발생하는 Entity**
- 발생량이 많고, 각종 통계자료에 이용
- 주문, 청구, 미납 등

#### 발생 시점에 따른 분류

##### 기본/키(Fundemental/Key) Entity

- **그 업무에 원래 존재하는 정보**
- 다른 Entity와 관계에 의해 생성되지 않고 **독립적으로 생성**
- 타 Entity의 부모 역할을 하는 Entity
- 다른 Entity로부터 주 식별자를 상속받지 않고 **자신의 고유한 주 식별자를 가짐**
- 사원, 부서, 고객, 상품 등

##### 중심(Main) Entity
- **기본 Entity로부터 발생되고, 그 업무에서 중심적인 역할**
- 많은 데이터가 발생되고, 다른 Entity와의 관계를 통해 많은 행위 Entity를 생성
- 계약, 사고, 청구, 주문, 매출 등

##### 행위(Active) Entity

- **2개 이상의 부모 Entity로부터 발생**
- 자주 내용이 바뀌거나 데이터 양이 증가
- 분석 초기 단계보다는 상세 설계 단계나 프로세스와 상관 모델링을 진행하면서 도출
- 주문(고객과 상품 Entity로부터 발생하므로 행위 Entity이기도 함), 사원 변경 이력, 이력 등

### Entity의 명명

- **현업에서 사용하는 용어 사용**
- 가능하면 약자 사용은 자제
- 단수 명사 사용
- 전체 Entity에서 **유일한 이름** 부여
- Entity 생성 의미대로 이름 부여

### Entity와 인스턴스 표기법

![01-entity-and-instance-notation](/assets/img/posts/study/certification/sqld/chapter1-understanding-data-modeling/understanding-data-modeling/01-entity-and-instance-notation.jpg)

- Entity는 사각형으로 표현
- 속성은 조금씩 다름

### Entity 표기법

#### IE 표기법

![02-ie-entity-notation](/assets/img/posts/study/certification/sqld/chapter1-understanding-data-modeling/understanding-data-modeling/02-ie-entity-notation.jpg)

- 주 식별자를 네모 칸 가장 위에 표시

#### Barker 표기법

![03-barker-entity-notation](/assets/img/posts/study/certification/sqld/chapter1-understanding-data-modeling/understanding-data-modeling/03-barker-entity-notation.jpg)

- 주 식별자 앞에 '#' 문자를 표시
- '○'는 `NULLABLE`

## 속성(Attribute)

> *속성이란 사전적인 의미로는 사물(事物)의 성질, 특징 또는 본질적인 성질이다. 그것이 없다면 실체를 생각할 수 없는 것으로 정의할 수 있다. 본질적 속성이란 어떤 사물 또는 개념에 없어서는 안 될 징표(徵表)의 전부이다. 이 징표는 사물이나 개념이 어떤 것인지를 나타내고 그것을 다른 것과 구별하는 성질이라고 할 수 있다.*

### 속성의 개념

- 속성은 **업무에서 필요로 하는 고유한 성질, 특징을 의미(관찰 대상)**
	+ 컬럼으로 표현할 수 있는 단위
- 업무상 인스턴스로 관리하고 하는 **더 이상 분리되지 않는 최소의 데이터 단위**
- 인스턴스의 구성 요소
- 학생 Entity의 이름, 학번, 학과번호 등

### Entity, 인스턴스, 속성, 속성 값의 관계

- 한 개의 Entity는 2개 이상의 인스턴스의 집합이어야 함
	+ 하나의 테이블은 두 개 이상의 행을 가짐
- 한 개의 Entity는 2개 이상의 속성을 가져야 함
	+ 하나의 테이블은 두 개 이상의 컬럼으로 구성됨
- 한 개의 속성은 1개의 속성 값을 가져야 함
	+각 컬럼의 값은 하나씩만 삽입 가능
- 속성은 Entity에 속한 Entity에 대한 자세하고 구체적인 정보를 나타내며, 각 속성은 구체적인 값을 가짐

### 속성의 특징

- 반드시 해당 업무에서 필요하고 관리하고자 하는 정보여야 함
- **정해진 주 식별자에 함수적 종속성을 가져야 함**
- 하나의 속성은 한 개의 값만을 가짐
	+ 한 컬럼의 값은 각 인스턴스마다 하나씩만 저장
- 하나의 속성에 여러 개의 값이 있는 다중값일 경우 별도의 Entity를 이용하여 분리
- 하나의 인스턴스는 속성마다 반드시 하나의 속성값을 가짐
	+ 속성의 원자성

> 원자성이란 데이터 모델에서 각 Entity의 인스턴스가 해당 속성에 대해 단일하고 명확한 값을 가지는 것을 의미한다.
{: .prompt-info }

### 함수적 종속성

- 한 속성의 값이 다른 속성의 값에 종속적인 관계를 갖는 특징을 말함
	+ **어떤 속성 A의 값에 의해 다른 속성 B도 유일하게 결정**된다면, B는 A에 함수적으로 종속됐다고 표현하고, 이를 수식으로 A → B라고 표현함

#### 완전 함수적 종속

|  주문번호  |  제품번호  |  수량  |
|:-------------:|:-------------:|:-------:|
|      **1**    |    **100**  |    4    |
|      **1**    |    **101**  |    1    |
|      **2**    |    **100**  |    3    |
|      **2**    |    **101**  |    2    |

- 특정 컬럼이 기본 키에 대해 완전히 종속될 때를 말함
- 주요 키를 구성하는 컬럼이 2개 이상일 경우 주요 키 값 모두에 의한 종속관계를 나타날 때 완전 함수 종속성을 만족
- 위 테이블에선 `주문번호` + `제품번호`에 의해 수량 컬럼의 값이 결정됨

#### 부분 함수적 종속

|  학생번호  |      과목    |  강사   |
|:-------------:|:------------:|:---------:|
|   **1001**  |  **수학**  |   홍쌤  |
|   **1002**  |  **수학**  |   홍쌤  |
|   **1001**  |  **과학**  |   최쌤  |
|   **1003**  |  **영어**  |   김썜  |

- 주요 키 전체가 아니라, 주요 키 일부에 대해 종속될 때를 말함
- 위 테이블에서 주요 키가 `학생번호` + `과목`의 조합이라고 가정할 때, `과목` 컬럼에 의해서도 교수가 결정되므로 부분 함수적 종속 관계임

### 속성의 분류

#### 속성의 특성에 따른 분류

##### 기본 속성

- 업무로부터 추출된 모든 속성
- Entity에 가장 일반적으로 많이 존재하는 속성
- 원금, 이자율, 예치기간 등 

##### 설계 속성

- 기본 속성 외에 업무를 규칙화하기 위해 새로 만들어지거나 기본 속성을 변형하여 만들어지는 속성
- 상품코드, 지점코드, 예금분류 등

##### 파생 속성(Derived Attirubute)

- 다른 속성에 의해 만들어지는 속성
- 일반적으로 계산된 값들이 해당
	+ 데이터를 조회할 때 빠른 성능
- 데이터 정합성을 유지하기 위해 가급적 적게 정의하는 것이 좋음
- 합계, 평균, 이자 등

#### Entity 구성 방식에 따른 분류

##### 기본 키(Primary Key) 속성

- 인스턴스를 식별할 수 있는 속성

##### 외래 키(Foreign Key) 속성

- 다른 Entity와의 관계에서 포함된 속성

##### 일반 속성

- Entity에 포함되어 있고 기본 키(또는 외래 키)에 포함되지 않는 속성

#### 분해 여부에 따른 속성

##### 단일 속성

- 하나의 의미로 구성된 경우
- 회원 ID, 이름 등

##### 복합 속성

- 여러 개의 의미로 구성된 경우
- 주소(시, 구, 동 등으로 분해 가능한) 등

##### 다중값 속성

- 속성에 여러 개의 값을 가질 수 있는 경우
- 다중값 속성은 Entity로 분해
- 상품 리스트 등

### 속성의 명명 규칙

- 해당 업무에서 사용하는 이름을 부여
- 서술식 속성명은 사용하지 않음
- 약어의 사용은 가급적 제한
- 전체 데이터 모델에서 유일한 명칭

### 도메인(Domain)

- 도메인은 각 속성이 가질 수 있는 값의 범위를 의미함
- Entity 내에서 속성에 대한 데이터 타입과 크기, 제약사항을 지정하는 것

## 관계(Relationship)

### 관계의 개념

- **관계는 Entity 간의 연관성을 나타낸 개념**
- 관계를 정의할 때는 인스턴스 간의 논리적인 연관성을 파악하여 정의
- Entity를 어떻게 정의하느냐에 따라 변경되기도 함

### 관계의 종류

#### 존재적 관계

- 한 Entity의 존재가 다른 Entity의 존재에 영향을 미치는 관계
- Entity 간의 연관된 상태를 의미
- 부서 Entity가 삭제되면 사원 Entity의 존재에 영향을 미침

#### 행위적 관계

- Entity 간의 어떤 행위가 있는 것을 의미
- 고객 Entity의 행동에 의해 주문 Entity가 발생

> ERD에서는 존재 관계와 행위 관계를 구분하지 않지만, UML(Unified Modeling Language)에는 클래스 다이어그램의 클래스의 관계 중 연관관계(Association)와 의존관계(Dependency)가 있고 이것은 실선과 점선의 표기법으로 다르게 표현이 되어 구분한다.
{: .prompt-info }

### 관계의 구성

- 관계명
- 차수(Cardinality)
- 선택성(Optionality)

### 관계의 차수(Cardinality)

- **한 Entity의 레코드(인스턴스)가 다른 Entity의 레코드(인스턴스)와 어떻게 연결되는지를 나타내는 표현**
- 관계의 기수성
- 주로 1:1, 1:N, N:M 등으로 표현

#### 1:1 관계

##### 완전 1:1 관계

- 하나의 Entity에 관계되는 Entity가 반드시 하나로 존재하는 경우
- 사원은 반드시 소속 부서가 있어야 함

##### 선택적 1:1 관계

- 하나의 Entity에 관계되는 Entity가 하나이거나 없을 수 있는 경우
- 아직 발령 전이라면 사원의 소속 부서가 없을 수 있음

#### 1:N 관계

- 하나의 행에 다른 Entity의 값이 여러 개 있는 관계
- 고객은 여러 개의 계좌를 소유할 수 있음

#### N:M 관계

- 두 Entity가 다대다 연결 관계를 가지고 있음
- N:M 관계의 경우 카테시안 곱이 발생하므로 두 Entity를 연결하는 연결 Entity를 추가함으로써, 1:N 관계로 풀어줄 필요가 있음
	+ 카테시안 곱이 발생하면 성능이 저하됨
- 한 학생이 여러 강의를 수강할 수 있고, 한 강의 기준으로도 여러 학생이 보유할 수 있음
	+ 이 경우 두 Entity를 연결하는 구매이력 Entity가 필요함

> 카테시안 곱(Cartesian product)은 두 집합 간의 모든 가능한 조합을 나타내는 수학적 연산이다. 보통 집합 A와 집합 B의 카테시안 곱은 A와 B의 원소들의 모든 순서쌍으로 이루어진다.
{: .prompt-info }

### 관계의 페어링

- Entity 안에 인스턴스가 개별적으로 관계를 가지는 것
- 관계는 페어링의 집합이라고 표현할 수 있음

#### 관계와 차수, 페어링의 차이

- 학생과 강의 Entity는 관계를 가짐
- 한 학생은 여러 강의를 수강할 수 있고, 한 강의도 여러 학생에게 수강될 수 있으므로 M:N 관계이며, 이때 차수는 M:N이 됨
- 인스턴스의 관계를 보면 "학생 A가 강의 B를 2023년 1학기에 수강했고 성적은 'A+'를 받았다"와 같은 특정한 페어링이 형성
- 이런식으로 관계의 차수는 하나의 Entity와 다른 Entity 간의 레코드 연결 방식을 나타내는 반면, 페어링은 두 Entity 간의 특정 연결을 설명하고 추가 정보를 제공하는 용도로 사용

### 관계 도출 시 확인 사항

- 두 개의 Entity 사이에 관심있는 연관규칙이 존재하는가?
- 두 개의 Entity 사이에 정보의 조합이 발생되는가?
- 업무기술서, 장표에 관계연결에 대한 규칙이 서술되어 있는가?
- 업무기술서, 장표에 관계연결을 가능하게 하는 동사(Verb)가 있는가?

## 식별자

### 식별자의 개념

- 하나의 Entity에 구성된 여러 개의 속성 중에 Entity를 대표할 수 있는 속성을 나타냄
- 하나의 유일한 식별자가 존재해야 함
- 식별자는 논리 모델링에서 사용되는 용어이며, 물리 모델링에서는 키(Key)라고 표현
	+ 학생 Entity의 주 식별자는 학생번호 속성이며, 학생 테이블의 기본 키는 학생번호 컬럼임

### 주 식별자 특징

- **유일성**: 주 식별자에 의해 모든 인스턴스를 유일하게 구분함
- **최소성**: 주 식별자를 구성하는 속성은 유일성을 만족하는 최소한의 속성으로 구성
- **불변성**: 주 식별자가 한번 특정 Entity에 지정되면 그 식별자의 값은 변하지 않아야 함
- **존재성**: 주 식별자가 지정되면 반드시 값이 존재해야 하며 `NULL`은 허용되지 않음

### 식별자의 분류

#### 대표성 여부에 따른 식별자의 종류

##### 주 식별자

- 유일성과 최소성을 만족하면서 Entity를 대표하는 식별자
- Entity 내에서 각 인스턴스를 유일하게 구분할 수 있는 식별자
- 타 Entity와 참조 관계를 연결할 수 있는 식별자

##### 보조 식별자

- Entity 내에서 각 인스턴스를 구분할 수 있는 구분자지만, 대표성을 가지지 못해 참조 관계를 연결할 수 없는 식별자
- 유일성과 최소성은 만족하지만 대표성을 만족하지 못하는 식별자
- 주민등록번호

#### 생성 여부에 따른 식별자의 종류

##### 내부 식별자

- 다른 Entity 참조 없이 Entity 내부에서 스스로 생성되는 식별자

##### 외부 식별자

- 다른 Entity와의 관계로 인하여 만들어지는 식별자
	+ 외래 키
- 우편번호

#### 속성 수에 따른 식별자 종류

##### 단일 식별자

- 하나의 속성으로 구성

##### 복합 식별자

- 두 개 이상의 속성으로 구성

#### 대체 여부에 따른 식별자의 종류

##### 본질 식별자

- 비즈니스 프로세스에서 만들어지는 식별자
- 부서 코드
- **필수**

##### 인조 식별자

- 인위적으로 만들어지는 식별자
	+ **꼭 필요하지는 않지만 관리의 편이성 등의 이유로 인위적으로 만들어지는 식별자**
- 본질 식별자가 복잡한 구성을 가질 때 인위적으로 생성
- 주로 각 행을 구분하기 위한 기본 키로 사용되며 자동으로 증가하는 일련번호같은 형태
- 주문번호(주문일자 + 주문순서 + 상품코드)

### 식별자 표기법

#### IE 표기법

![04-ie-primary-identifier-notation](/assets/img/posts/study/certification/sqld/chapter1-understanding-data-modeling/understanding-data-modeling/04-ie-primary-identifier-notation.jpg)

#### Barker 표기법

![05-barker-primary-identifier-notation](/assets/img/posts/study/certification/sqld/chapter1-understanding-data-modeling/understanding-data-modeling/05-barker-primary-identifier-notation.jpg)

### 주 식별자 도출 기준

1. 해당 업무에서 자주 이용되는 속성을 주 식별자로 지정
- 같은 식별자 조건을 만족하더라도 업무적으로 더 많이 사용되는 속성을 주 식별자로 지정함
- 학생번호와 주민번호 중에 학생번호가 주 식별자, 주민번호는 보조 식별자

2. 명칭이나 내역 등과 같은 이름은 피한다.
- 이름 자체를 주 식별자롤 사용하는 행위를 피함
- 부서명보다는 부서코드를 부여하여 부서코드를 주 식별자로 사용

3. 속성의 수를 최대한 적게 구성
- 주 식별자를 너무 많은 속성으로 구성 시, `JOIN`으로 인한 성능저하 발생 우려
- 일반적으로 7~8개 이상의 주 식별자 구성은 새로운 인조 식별자를 생성하여 모델을 단순화 시키는 것이 좋음

### 관계간 Entity 구분

#### 강한 개체

- 독립적으로 존재할 수 있는 Entity
- 고객과 계좌 Entity 중, 고객은 독립적으로 할 수 있음

#### 약한 개체

- 독립적으로 존재할 수 없는 Entity
- 고객과 계좌 Entity 중, 계좌는 독립적으로 존재할 수 없음

### 식별 관계와 비 식별 관계

|            항목           |                         식별 관계                        |                          비 식별 관계                            |
|:------------------------:|:----------------------------------------------------:|:-----------------------------------------------------------:|
|            목적           |                 강한 연관관계를 표현                |                     약한 연관관계를 표현                     |
| 자식 주 식별자 영향 |         자식 주 식별자의 구성에 포함됨          |                   자식 일반 속성에 포함됨                   |
|           표기법         |                         실선 표현                        |                            점선 표현                              |
|      연결 고려사항    |                 반드시 부모 Entity 종속              |                         약한 종속 관계                         |
|                             |  자식 주 식별자 구성에 부모 주 식별자 포함  |         자식 주 식별자 구성을 독립적으로 구성         |
|                             |  상속받은 주 식별자 속성을 타 Entity에 이전  |   자식 주 식별자 구성에 부모 주 식별자 부분 필요  |
|                             |                                                               |  상속받은 주 식별자 속성을 타 Entity에 차단 필요  |
|                             |                                                               |                부모 쪽의 관계참여가 선택관계            |

#### 식별 관계(Identification Relationship)

- 하나의 기본 키를 여러 Entity가 기본 키로 공유하는 관계
- 식별 관계는 ERD에서 실선으로 표시
- 사원과 교육 이력 Entity에서 양쪽 모두 기본 키 중 일부가 사원 번호

> 모든 관계가 식별자 관계로 연결되면 `WHERE` 절에서 비교하는 항목이 증가되어 `JOIN`에 참여하는 테이블에 따라 쿼리 문장이 길어지는, 쿼리의 복잡성이 증가되는 것을 방지하기 위해 비식별자 관계를 고려할 수 있다. 하지만 단순히 쿼리의 복잡도를 낮추는 목적에서 고려되는 것은 바람직하지 않다.
{: .prompt-tip }

#### 비 식별 관계(Non-identification Relationship)

- 강한 개체의 기본 키를 다른 Entity의 기본 키가 아닌 일반 속성으로 관계로 가지고 있는 것
- 비 식별 관계는 ERD에서 점선으로 표시
- 부서와 사원의 관계에서 부서의 부서번호(기본 키)를 사원 Entity에서는 일반 키로 가짐
	+ 사원에서는 사원번호가 기본 키

## 다음 글

- [[SQLD \| 1과목]데이터 모델과 SQL](https://drj9812.github.io/posts/data-model-and-sql){: target="_blank" }

## 참고자료

- [홍은혜, "SQLD 1과목 완벽 정리 (2024년 신유형 반영)", 홍쌤의 데이터랩, 2024-02-14](https://www.youtube.com/watch?v=QB_GYdHUHmA){: target="_blank" }
- 한국데이터산업진흥원, SQL 자격검정 실전문제(서울: 한국데이터산업진흥원, 2016), 279.
- [yunamom, Study with yuna](https://yunamom.tistory.com/){: target="_blank" }